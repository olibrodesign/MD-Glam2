{%- liquid
  assign settings_link = settings.color--alternative
-%}

<div
  class="image-with-text--root"
  data-section-id="{{ section.id }}" {% if section.settings.bg_img != blank %}
    style="background-image: url('{{section.settings.bg_img | img_url: 'master'}}')"
{% endif %}
>
  {% render 'featured-content',
    text_color: section.settings.text-color,
    bg_color: section.settings.background-color,
    box_around_text: section.settings.box-around-text,
    container_width: section.settings.container-width,
    darken_image: section.settings.darken-image,
    description: section.settings.description,
    image: section.settings.image,
    image_height: section.settings.image-height,
    link_text: section.settings.link-text,
    link_url: section.settings.link-url,
    mobile_overlay: section.settings.mobile-overlay,
    overlap: section.settings.overlap,
    overline: section.settings.overline,
    parallax_enabled: section.settings.parallax-enabled,
    spacing_above: section.settings.spacing-above,
    spacing_below: section.settings.spacing-below,
    text_position: section.settings.text-position,
    text_width: section.settings.text-width,
    title: section.settings.title,
    video_icon:section.settings.video-icon,
    icon_link:section.settings.icon-link,
    title_sec: section.settings.title-sec,
    desc_sec: section.settings.description-sec,
    desc_third: section.settings.description-third,
    heading_mobile:section.settings.heading-mobile,
    html5_video:section.settings.html5_video,
    html5_video_M:section.settings.html5_video_M,
    uppercase: section.settings.uppercase
    
  %}
</div>
<style>
  {% if section.settings.text_middle == true %}
    #shopify-section-{{section.id}} .featured-content--container {
      align-items: center;
    }
  {% endif %}
  
</style>
{% schema %}
{
  "name": "Image with text",
  "settings": [
    {
      "type": "header",
      "content": "Layout and Color"
    },
    {
      "id": "text-color",
      "label": "Text color",
      "type": "select",
      "options": [
        { "label": "Auto", "value": "auto" },
        { "label": "Dark", "value": "dark" },
        { "label": "Light", "value": "light" }
      ],
      "default": "auto"
    },
    {
      "id": "background-color",
      "label": "Background color",
      "type": "select",
      "options": [
        { "label": "None", "value": "none" },
        { "label": "Light", "value": "light" },
        { "label": "Dark", "value": "dark" },
        { "label": "Accent", "value": "accent" }
      ],
      "default": "none"
    },
    {
      "type": "image_picker",
      "id": "bg_img",
      "label": "Background image"
    },
    {
      "id": "container-width",
      "label": "Width of container",
      "type": "range",
      "min": 1,
      "max": 6,
      "step": 1,
      "default": 6
    },
    {
      "id": "spacing-above",
      "label": "Spacing above",
      "type": "checkbox",
      "default": false
    },
    {
      "id": "spacing-below",
      "label": "Spacing below",
      "type": "checkbox",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "text_middle",
      "label": "Text middle",
      "default": false
    },
     {
      "id": "video-icon",
      "label": "Enable Video Icon",
      "type": "checkbox",
      "default": false
    },
    {
      "type": "text",
      "id": "html5_video",
      "label": "HTML5 MP4/OGV File URL for Desktop"
    },
    {
      "type": "text",
      "id": "html5_video_M",
      "label": "HTML5 MP4/OGV File URL for Mobile"
    },
    {
      "id": "image-height",
      "label": "Image height",
      "type": "range",
      "min": 0,
      "max": 5,
      "step": 1,
      "default": 3,
      "info": "Set to 0 to preserve the natural image dimensions"
    },
    {
      "id": "darken-image",
      "label": "Darken image",
      "type": "checkbox",
      "default": true,
      "info": "Can enhance text visibility"
    },
    {
      "id": "parallax-enabled",
      "label": "Enable parallax",
      "type": "checkbox",
      "default": false,
      "info": "Fixes image position when you scroll, use images with a height of at least 2000px to preserve resolution"
    },
    {
      "id": "text-position",
      "label": "Text Position",
      "type": "select",
      "options": [
        { "label": "Top", "value": "top" },
        { "label": "Bottom", "value": "bottom" },
        { "label": "Left", "value": "left" },
        { "label": "Center", "value": "center" },
        { "label": "Right", "value": "right" },
        { "label": "Bottom left", "value": "bottom-left" }
      ],
      "default": "center"
    },
    {
      "id": "text-width",
      "label": "Text width",
      "type": "select",
      "options": [
        { "value": "small", "label": "Small" },
        { "value": "medium", "label": "Medium" },
        { "value": "large", "label": "Large" }
      ],
      "default": "medium"
    },
    {
      "id": "overlap",
      "label": "Overlap text",
      "type": "checkbox",
      "default": false,
      "info": "Not applicable for centered or bottom left text"
    },
    {
      "id": "box-around-text",
      "label": "Show box around text",
      "type": "checkbox",
      "default": false
    },
    {
      "id": "mobile-overlay",
      "label": "Overlay text on small devices",
      "type": "checkbox",
      "default": true
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "id": "image",
      "label": "Image",
      "type": "image_picker"
    },
    {
      "id": "overline",
      "label": "Overline",
      "type": "text",
      "default": "Overline text"
    },
     {
      "id": "heading-mobile",
      "label": "Heading Mobile above the image",
      "type": "text",
      "default": "This heading will work only on mobile "
    },
    {
      "id": "title",
      "label": "Heading",
      "type": "text",
      "default": "Image with text"
    },{
      "id": "title-sec",
      "label": "Heading 2",
      "type": "text",
      "default": "Image with text"
    },
    {
      "type": "checkbox",
      "id": "uppercase",
      "label": "Uppercase",
      "default": true
    },
    {
      "id": "description",
      "label": "Text",
      "type": "text",
      "default": "<p>Combine imagery with text to create stand-out campaign sections, eye-catching promotions, information blocks and more.</p>"
    },
     {
      "id": "description-sec",
      "label": "Text 2",
      "type": "richtext",
      "default": "<p>Combine imagery with text to create stand-out campaign sections, eye-catching promotions, information blocks and more.</p>"
    },
     {
      "id": "description-third",
      "label": "Text 3",
      "type": "richtext",
      "default": "<p>Combine imagery with text to create stand-out campaign sections, eye-catching promotions, information blocks and more.</p>"
    },
    {
      "id": "link-url",
      "label": "Link",
      "type": "url"
    },
    {
      "id": "link-text",
      "label": "Link text",
      "type": "text"
    }
  ],
  "presets": [
    {
      "name": "Image with text"
    }
  ]
}
{% endschema %}